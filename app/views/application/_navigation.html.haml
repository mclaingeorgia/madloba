%nav
  .nav-container
    .nav-left
      = link_to image_tag(asset_path("svg/logo_#{I18n.locale}.svg"), alt: t('.logo_alt'), title: t('.logo_title')).html_safe, root_path, class: 'nav-brand'
      .nav-toggle
        %button{ type: 'submit', class: "nav-toggle-button collapsed", 'data-toggle': 'collapse', 'aria-expanded': false, 'data-target': 'nav-toggle-target' }
          %span.helper Toggle navigation
          .toggle
    #nav-toggle-target.nav-right
      .nav-menu
        = link_to t('.about'), 'javascript:void(0);', class: "nav-menu-item border-right#{if_path_match('root/about', ' active')}", 'data-dialog-link': 'about'
        = link_to t('.faq'), faq_path, class: "nav-menu-item nav-menu-item-faq border-both border-skip-left#{if_path_match('root/faq', ' active')}"
        = link_to t('.contact'), 'javascript:void(0);', class: "nav-menu-item border-left#{if_path_match('root/contact', ' active')}", 'data-dialog-link': 'contact'
      .nav-social
        = link_to image_tag(asset_path("svg/facebook.svg"), alt: t('.facebook_alt'), title: t('.facebook_alt')), root_path, class: 'facebook'
        = link_to image_tag(asset_path("svg/twitter.svg"), alt: t('.twitter_alt'), title: t('.twitter_alt')).html_safe, root_path, class: 'twitter'
      .nav-user
        - if !user_signed_in?
          .guest
            = link_to t('.sign_up'), new_user_registration_path, class: 'sign-up'
            .slash /
            = link_to t('.sign_in'), new_user_session_path, class: 'sign-in', 'data-xhr': 'sign_in'
            .form-placeholder
        - else
          .user
            = link_to '#', class: 'nav-user-menu-link' do
              = image_tag(asset_path("svg/user.svg"), alt: t('.user_alt'), title: t('.user_title'), class: 'user-icon')
              .user-name #{current_user.name}
              .caret
            .user-menu{ 'data-set-max-height': true }
              - if current_user.user?
                %ul.first
                  %li.sans
                    %span.header User Profile
                    %ul
                      %li
                        = link_to t('admin.menu.manage_profile'), manage_user_profile_path(page: 'manage-profile')
                      %li
                        = link_to t('admin.menu.favorite_places'), manage_user_profile_path(page: 'favorite-places')
                      %li
                        = link_to t('admin.menu.rated_places'), manage_user_profile_path(page: 'rated-places')
                      %li
                        = link_to t('admin.menu.uploaded_photos'), manage_user_profile_path(page: 'uploaded-photos')
                  - if current_user.provider?
                    %li.sans
                      %span.header Provider Profile
                      %ul
                        %li
                          = link_to t('admin.menu.manage_provider'), manage_provider_profile_path(page: 'manage-provider')
                        %li
                          = link_to t('admin.menu.manage_places'), manage_provider_profile_path(page: 'manage-places')
                        %li
                          = link_to t('admin.menu.moderate_photos'), manage_provider_profile_path(page: 'moderate-photos')
                  - if current_user.admin?
                    %li.sans
                      %span.header Admin Profile
                      %ul
                        %li.sans
                          %span.subheader Manage
                          %ul
                            %li
                              = link_to t('admin.menu.users'), root_path
                            %li
                              = link_to t('admin.menu.providers'), root_path
                            %li
                              = link_to t('admin.menu.places'), root_path
                            %li
                              = link_to t('admin.menu.categories'), root_path
                            %li
                              = link_to t('admin.menu.page_contents'), manage_page_contents_path
                            %li
                              = link_to t('admin.menu.settings'), root_path
                        %li.sans
                          %span.subheader Moderate
                          %ul
                            %li
                              = link_to t('admin.menu.reported_places'), root_path
                            %li
                              = link_to t('admin.menu.place_ownership'), root_path
                            %li
                              = link_to t('admin.menu.new_provider'), root_path
                            %li
                              = link_to t('admin.menu.place_tags'), root_path
                %hr
                %ul.last
                  %li.sans
                    = link_to t('.log_out'), destroy_user_session_path, :method => :delete
      .nav-lang
        = link_to 'English', url_for(locale: :en), class: "#{I18n.locale == :en ? 'active' : ''}", lang: :en
        = link_to 'ქართული', url_for(locale: :ka), class: "#{I18n.locale == :ka ? 'active' : ''}", lang: :ka
      .nav-links
        = link_to t('app.common.privacy_policy'), privacy_policy_path
        = link_to t('app.common.terms_of_use'), terms_of_use_path
